<head>
	<title>ABC League Manager</title>
	<!--<script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>-->
	<link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">
</head>

<body>
<div class="container">
	<h1>Arch Badminton Center MD League Manager</h1>

	{{#basicTabs name="nav nav-tabs" tabs=tabs}}
		{{#tabContent slug="leagueTable"}}
			<form class="view-all-players">
				<input type="checkbox" checked="{{viewAllPlayers}}"/>
				View All players
			</form>
		{{/tabContent}}
		{{#tabContent slug="updateScores"}}
			<form class="view-all-players">
				<input type="checkbox" checked="{{viewAllPlayers}}"/>
				View All players
			</form>
			<br/>
			{{#if allPlayerMode}}
				<button class="btn btn-secondary saveUpdatedScores">Update Current Score</button>
			{{/if}}
		{{/tabContent}}
	{{/basicTabs}}

	<table class="table">
		<thead>
		<tr>
			<th>Name</th>
			<th>Current</th>
			<th>Previous</th>
			<th>Play next Tuesday?</th>
			{{#if allPlayerMode}}
				<th>Fee</th>
				<th>Group</th>
				<th>Court</th>
				<th>Time</th>
				{{#if updateMode}}
					<th>Game 1</th>
					<th>Game 2</th>
					<th>Game 3</th>
					<th>Net Points</th>
				{{/if}}
			{{/if}}
		</tr>
		</thead>
		<tbody>
		{{#each players}}
			{{> player}}
		{{/each}}
		</tbody>
	</table>
</div>
</body>

<template name="player">
	<tr>
		<td>{{name}}</td>
		<td>{{score.current}}</td>
		<td>{{score.prev}}</td>
		<td><input type="checkbox" checked="{{playNextLeague}}" class="toggle-checked"/></td>
		{{#if allPlayerMode}}
			<td>
				<form class="feePaid">
					<input type="text" class="text" name="text" placeholder="{{feePaid}}" maxlength="2"/>
				</form>
			</td>
			<td>{{group}}</td>
			<td>{{court}}</td>
			<td>{{time}}</td>
			{{#if updateMode}}
				{{#if isDummy name}}
					{{#if playNextLeague}}
						<td>
							<form class="game-1">
								<input type="text" class="text" name="text" placeholder="{{game1}}" maxlength="2"/>
							</form>
						</td>
						<td>
							<form class="game-2">
								<input type="text" class="text" name="text" placeholder="{{game2}}" maxlength="2"/>
							</form>
						</td>
						<td>
							<form class="game-3">
								<input type="text" class="text" name="text" placeholder="{{game3}}" maxlength="2"/>
							</form>
						</td>
						<td>{{netPoints}}</td>
					{{/if}}
				{{/if}}
			{{/if}}
		{{/if}}
	</tr>
</template>